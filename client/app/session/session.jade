include ../templates/header.jade
.container(ng-controller="SessionCtrl" ng-init="init()")
  .main-content
    .row-with-padding
      .large-8.large-centered.columns
        .row
          .large-8.columns
            h5 Your username: {{username}}
            label Story description
            textarea(ng-model="description" ng-keyup="updateDescription()")
          .large-4.columns.statics(ng-show="showVotes")
            h5  Statics
            h3.success(ng-show="consensus") Consensus!!!
            table
              thead
                tr
                  th Points
                  th Votes
              tbody
                tr(ng-repeat="(point, votes) in points")
                  td {{point}}
                  td {{votes.length}}
        .row
          .large-6.columns
            button.small.button(ng-click="clearVotes()") Clear Votes
            button.small.button(ng-click="revealVotes()") Show Votes
        .row-with-padding
          .large-12.large-centered.columns
            .button-bar
              ul.button-group
                li(ng-repeat="vote in voteValues")
                  button.tiny.button(href="#" ng-click="setVote(vote)" ng-disabled="showVotes") {{vote}}
        .row
          .large-12.large-centered.columns
            table
              thead
                tr
                  th Name
                  th Voted
                  th Points
              tbody
                tr(ng-repeat="user in users")
                 td(ng-class="{active: user.socketId == id}") {{user.username}}
                 td(ng-class="{active: user.socketId == id}")
                   i.fa.fa-check(ng-show="user.voted")
                 td(ng-class="{active: user.socketId == id}") {{votes[user.socketId]}}
        hr
        .row.share
          .large-12.large-centered.columns
            h5 Share this link with your team:
            a(ng-href="{{url}}") {{url}}
            h5 Or session Id :
            a(ng-href="{{url}}") {{sessionId}}

include ../templates/footer.jade
